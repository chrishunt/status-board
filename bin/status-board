#!/usr/bin/env ruby

require 'status_board'

email, password, show_id = *(
  if ARGV.first.to_s.downcase == '--from-env'
    [ ENV['LIBSYN_EMAIL'],
      ENV['LIBSYN_PASSWORD'],
      ENV['LIBSYN_SHOW_ID'] ]
  else
    ARGV
  end)

if email && password && show_id
  libsyn = StatusBoard::Libsyn.new(email, password, show_id)
  libsyn.get

  print libsyn.to_s
else
  puts "usage: status-board [email] [password] [show_id]"
end
